<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta content="technology,blog" name=keywords><meta content="hacktohell" name=author><meta property="og:title" content="Controlling Mitsubushi Heat Pump with esphome and homeassistant - Wanderings | A blog"><meta property="og:url" content="http://blog.hacktohell.org/heat-pump/mitsubishi-ac-heat-pump-esphome-homeassistant/"><meta property="og:description" content="Tech Blog"><meta property="og:type" content="website"><title>Controlling Mitsubushi Heat Pump with esphome and homeassistant | Wanderings | A blog</title><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script><link rel=stylesheet href=http://blog.hacktohell.org/css/style.css><link rel="shortcut icon" href=http://blog.hacktohell.org/favicon.ico><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css integrity="sha256-Zd1icfZ72UBmsId/mUcagrmN7IN5Qkrvh75ICHIQVTk=" crossorigin=anonymous></head><body><section class=section><div class=container><nav class=nav><div class=nav-left><a class=nav-item href=http://blog.hacktohell.org><h1 class="title is-4">Wanderings | A blog</h1></a></div><div class=nav-right><nav class="nav-item level is-mobile"><a class=level-item href=https://github.com/hacktohell target=_blank><span class=icon><i class="fa fa-github"></i></span></a>
<a class=level-item href=https://twitter.com/hacktohell target=_blank><span class=icon><i class="fa fa-twitter"></i></span></a>
<a class=level-item href=/index.xml target=_blank><span class=icon><i class="fa fa-rss"></i></span></a></nav></div></nav></div></section><section class=section><div class=container><h1 class=title>Controlling Mitsubushi Heat Pump with esphome and homeassistant</h1><h2 class="subtitle is-5">June 3, 2024 by hacktohell</h2><div class=content><p>Modern heat pumps are incredibly efficient and can be used to heat and cool your home, however there&rsquo;s still the matter of controlling them precisely to how your would want your house. With it being more decrentalized especially with minisplits, it&rsquo;s a bit more tricky to &ldquo;nest&rdquo; them. I wanted to have a somewhat automated climate controller that meant automatic switch on when the temperature is too low and switch off when the temperature is too high as well as using an external temperature sensor to control the temperature.</p><p>There&rsquo;s this amazing project called <a href=https://github.com/echavet/MitsubishiCN105ESPHome>https://github.com/echavet/MitsubishiCN105ESPHome</a> which has reverse engineered the communication protocol of the heat pump and has a library to control. Paired with esphome, it&rsquo;s extremly simple to get it onboarded to homeassistant. However the project is old and more modern implementations use a esp32 and this talks about a simple installation I made.</p><h2 id=bom>BOM</h2><table><thead><tr><th>Component</th><th>Description</th><th>Price (USD)</th></tr></thead><tbody><tr><td>ESP32-WROOM-32</td><td>Generic one of amazon, this one is 30 pins, but anything cheap works</td><td>22/5 = 4.4</td></tr><tr><td>3.3-5V level shifter</td><td>IIC I2C Logic Level Converter Bi-Directional 3.3V-5V Shifter Module</td><td>7.49/10 = 0.75</td></tr><tr><td>Jumper cables</td><td>40 PCS 20 CM (8 inch) Breadboard Jumper Wires Wire Length Optional Dupont Cable Assorted Kit Female to Female Multicolored Ribbon Cables</td><td>3.99</td></tr><tr><td>CN1005 Adapter Cables</td><td>PAP-04V-S PAP-05V-S 20/30cm PA2.0mm PAP2.0 to Dupont 1P Male/Female Wire Position Rectangular Housing Connector 0.079" (2.00mm)</td><td>5.22</td></tr></tbody></table><p>Total = 14.36</p><p>Compared to the official cloud solution, the Kumo Cloud thermostats which are about 344$ per indoor head, this is a fraction of the cost.</p><h2 id=wiring>Wiring</h2><p><img src=/heat-pump/wiring.png alt=Wiring></p></div><div class=nav-left><a class=nav-item href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fblog.hacktohell.org%2fheat-pump%2fmitsubishi-ac-heat-pump-esphome-homeassistant%2f" title="Share on Facebook" target=_blank><span class="fa fa-facebook fa-2x" aria-hidden=true></span></a><a class=nav-item href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fblog.hacktohell.org%2fheat-pump%2fmitsubishi-ac-heat-pump-esphome-homeassistant%2f" title="Share on LinkedIn" target=_blank><span class="fa fa-linkedin fa-2x" aria-hidden=true></span></a><a class=nav-item href="https://twitter.com/home?status=Controlling%20Mitsubushi%20Heat%20Pump%20with%20esphome%20and%20homeassistant - http%3a%2f%2fblog.hacktohell.org%2fheat-pump%2fmitsubishi-ac-heat-pump-esphome-homeassistant%2f" title="Tweet this" target=_blank><span class="fa fa-twitter fa-2x"></span></a><a class=nav-item href="http://www.reddit.com/submit?url=http%3a%2f%2fblog.hacktohell.org%2fheat-pump%2fmitsubishi-ac-heat-pump-esphome-homeassistant%2f&title=Controlling%20Mitsubushi%20Heat%20Pump%20with%20esphome%20and%20homeassistant" title="Share on Reddit" target=_blank><span class="fa fa-reddit-alien fa-2x" aria-hidden=true></span></a></div></div></section><section class=section><div class="container has-text-centered"><p>&copy; 2017 | Follow on <a href=https://twitter.com/hacktohell target=_blank>Twitter</a></p></div></section><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js integrity="sha256-+bhVTaRmJ/c07eV80nU8gD2cBBF0rYkf1txqXlrbvb0=" crossorigin=anonymous></script><script>hljs.initHighlightingOnLoad()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-16175693-14','auto'),ga('send','pageview'))</script></body>